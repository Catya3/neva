// Streamers turn collections into streams.
// They allow to iterate over array ports, lists and maps.
// They also used by bridges.

component {
    #extern(port_streamer)
    pub PortStreamer<T>([p] T) (seq stream<T>)

    #extern(list_streamer)
    pub ListStreamer<T>(l list<T>) (seq stream<T>)
}

pub type MapEntry<T> struct {
    k string
    v T
}

#extern(map_streamer)
pub component MapStreamer<T>(m map<T>) (seq stream<MapEntry<T>>)

