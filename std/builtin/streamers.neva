// Streamers turn collections into streams.
// They allow to iterate over array ports, lists and maps.
// They also used by bridges.

component {
    #extern(PortStreamer)
    pub PortStreamer<T>([p] T) (seq stream<T>)

    #extern(ListStreamer)
    pub ListStreamer<T>(l list<T>) (seq stream<T>)
}

type pub MapEntry<T> struct {
    k string
    v T
}

#extern(MapStreamer)
component pub MapStreamer<T>(m map<T>) (seq stream<MapEntry>)

