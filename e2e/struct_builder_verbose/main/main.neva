// Here we learn how to build structures
// by creating custom component with compiler directives.

type User struct {
    age int
    name string
}

#extern(struct_builder)
component MyStructBuilder(age int, name string) (msg User)

component Main(start any) (stop any) {
    nodes { Println, builder MyStructBuilder }

    :start -> [
        ('John' -> builder:name),
        (32 -> builder:age)
    ]
    builder:msg -> println:data
    println:sig -> :stop
}